{"version":3,"sources":["store/user.js","helpers/colorGenerator.js","components/Player/convert.js","components/Player/events/ready.js","components/Player/WaveWidget.js","components/Player/events/play.js","components/Player/events/pause.js","components/Player/events/stop.js","components/Player/events/region-created.js","components/Player/events/region-updated.js","helpers/time.js","components/Player/LoaderAudio.js","helpers/getGlobal.js","components/Player/MediaInfo.js","components/Player/Playlist.js","components/Player/CuePoint.js","components/Player/MediaControl.js","components/Player/Player.js","components/TutorialBar.js","store/player.js","store/playlist.js","api/fetchFactory.js","api/lyrics.js","store/lyrics.js","store/index.js","components/AutoCompleteRhyme/ListOfWords.js","components/AutoCompleteRhyme/AutoCompleteRhyme.js","components/Logo.js","components/Lyrics/ListLyrics.js","components/Lyrics/LyricForm.js","components/Lyrics/index.js","components/Header/Header.js","components/Header/index.js","App.js","serviceWorker.js","index.js"],"names":["User","logged","token","info","localStorage","this","setToken","match","setInfo","window","history","replaceState","logout","base64","split","json","Buffer","from","toString","JSON","parse","removeItem","decorate","observable","init","user","colorGenerator","red","Math","floor","random","green","blue","cuePointToRegion","cuePoint","id","start","end","color","drag","regionToCuePoint","region","wavesurferSettings","uuidv4","container","waveColor","progressColor","splitChannels","height","barWidth","enhance","compose","inject","player","playlist","useEffect","wavesurfer","WaveSurfer","create","on","setIsPlaying","play","pause","stop","song","clearRegions","cuePoints","i","length","loop","loopActive","resize","attributes","ignoreEvents","addRegion","ready","addCuePoint","regionCreated","updateCuePoint","regionUpdated","className","fancyTimeFormat","timeInSeconds","time","parseInt","hours","mins","secs","result","loadAudioBuffer","arrayBuffer","context","AudioContext","webkitAudioContext","Promise","resolve","reject","decodeAudioData","then","buffer","bpm","require","detect","loopTime","duration","err","console","error","loaderSong","a","blob","state","mustLoad","URL","createObjectURL","url","songState","newState","load","addSongToPlaylist","mediaInfo","setNewSongUsingUrl","urlToFetch","title","fetch","response","location","baseUrl","protocol","host","style","flexGrow","Button","label","margin","cursor","variant","type","position","top","bottom","right","left","width","opacity","onChange","ev","target","files","fileReader","FileReader","readAsArrayBuffer","onload","value","pop","accept","getGlobal","name","timeout","interval","startTime","Date","now","check","Error","setTimeout","observer","currentSong","currentTime","List","songs","map","idx","ListItem","button","key","disabled","onClick","backgroundColor","ListItemText","primary","ListItemSecondaryAction","IconButton","edge","aria-label","songId","revokeObjectURL","deleteSong","deleteCuePoint","removeCuePoint","waveCuePoint","regions","list","remove","addLoop","getCurrentTime","endTime","toggleActive","toggleActiveLoop","regionId","CuePoint","Card","CardHeader","avatar","seekTo","getDuration","TextField","readOnly","action","protoTypes","PropTypes","shape","string","integer","object","tooltip","fontSize","volumes","icon","VolumeOffIcon","VolumeDownIcon","VolumeUpIcon","lifecycle","componentDidMount","document","addEventListener","tagName","which","KEY_1","codeKey","props","shiftKey","preventDefault","playPause","skip","isPlaying","useState","volume","setVolume","VolumeIcon","Fragment","ButtonGroup","size","newIdxVolume","newVolume","Slider","min","max","_","zoomLevel","Number","zoom","shouldRender","setShouldRender","setCurrentTime","runEvents","newTime","setInterval","Grid","spacing","item","xs","md","Key","open","setOpen","Drawer","docked","onClose","onRequestChange","anchor","padding","Player","playing","Playlist","push","currentCuePoint","filter","index","newSongs","s","replace","computed","API_URL","process","data","headers","authorization","mode","getLyrics","log","saveLyric","lyric","method","body","stringify","initialStateLyric","Lyrics","loading","lyrics","find","updateLyric","resetLyric","l","ListOfWords","word","words","dense","maxHeight","overflowY","currentWord","RHYMES_WORDS","gql","debounceGet","debounce","setListOfWords","setLoading","client","query","variables","getRhymes","AutoCompleteRhyme","setWord","listOfWords","e","Wrapper","styled","div","Logo","src","maxWidth","alt","Transition","React","forwardRef","ref","Slide","direction","GET_LYRICS","DELETE_LYRIC","lyricId","setLyricId","setLyrics","newLyric","setLyric","Dialog","TransitionComponent","keepMounted","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","mutate","mutation","delete","CREATE_LYRIC","UPDATE_LYRIC","FormControl","fullWidth","InputLabel","htmlFor","Input","setTitle","FormHelperText","rows","setLyricText","multiline","addLyric","createLyric","hash","givenName","useStyles","makeStyles","theme","root","menuButton","marginRight","Header","classes","anchorEl","setAnchorEl","Boolean","AppBar","Toolbar","Typography","aria-controls","aria-haspopup","event","currentTarget","Avatar","picture","Menu","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem","href","ApolloClient","uri","createMuiTheme","palette","purple","secondary","status","danger","store","stores","App","ThemeProvider","Container","TutorialBar","version","hostname","ReactDOM","render","getElementById","navigator","serviceWorker","registration","unregister"],"mappings":"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","file":"static/js/main.e308883b.chunk.js","sourcesContent":["import { observable, decorate, computed } from 'mobx';\n\nclass User {\n  logged = false\n  token = null\n  info = {}\n\n  init() {\n    if (localStorage.token) {\n      this.setToken(localStorage.token)\n    }\n  }\n\n  setToken(token) {\n    if (!token.match(/^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$/)) {\n      this.logout()\n      return\n    }\n\n    this.logged = true\n    this.token = token\n    localStorage.token = token\n\n    this.setInfo()\n\n    window.history.replaceState(null, null, ' ')\n  }\n\n  setInfo() {\n    const base64 = this.token.split('.')[1]\n    const json = Buffer.from(base64, 'base64').toString()\n    this.info = JSON.parse(json)\n  }\n\n  logout() {\n    this.logged = false\n    this.token = null\n    localStorage.removeItem('token')\n  }\n}\n\ndecorate(User, {\n  logout: observable,\n  setToken: observable,\n  init: observable,\n  logged: observable,\n})\n\nconst user = new User()\n\nexport default user\n","export const colorGenerator = () => {\n  const red = Math.floor(Math.random() * 255) + 1\n  const green = Math.floor(Math.random() * 255) + 1\n  const blue = Math.floor(Math.random() * 255) + 1\n\n  return `rgba(${red}, ${green}, ${blue}, 0.2)`\n}\n","import { colorGenerator } from '../../helpers/colorGenerator'\n\nexport const cuePointToRegion = (cuePoint) => ({\n  id: cuePoint.id,\n  start: cuePoint.start,\n  end: cuePoint.end,\n  color: colorGenerator(),\n  drag: false\n})\n\nexport const regionToCuePoint = (region) => ({\n  id: region.id,\n  start: region.start,\n  end: region.end\n})\n","import { cuePointToRegion } from '../convert'\n\nexport default ({ player, playlist }) => () => {\n  if (!playlist.song) return\n\n  const wavesurfer = window.wavesurfer\n  wavesurfer.clearRegions()\n  const cuePoints = playlist.song.cuePoints\n\n  for(let i = 0; i < cuePoints.length; i++) {\n    const cuePoint = cuePoints[i]\n\n    const region = {\n      ...cuePointToRegion(cuePoint),\n      loop: player.loopActive,\n      drag: true,\n      resize: true,\n      attributes: {\n        ignoreEvents: true\n      }\n    }\n\n    wavesurfer.addRegion(region)\n  }\n\n  wavesurfer.play()\n}\n","import React, { useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport uuidv4 from 'uuid/v4'\nimport {\n  play,\n  stop,\n  ready,\n  regionCreated,\n  regionUpdated,\n  pause,\n} from './events'\nimport { compose } from 'recompose'\nimport { inject } from 'mobx-react'\n\nconst id = uuidv4()\n\nconst wavesurferSettings = {\n  container: '#waveform',\n  waveColor: 'violet',\n  progressColor: 'purple',\n  splitChannels: true,\n  height: 64,\n  barWidth: 0\n}\n\nconst WaveWidget = ({ player, playlist }) => {\n  useEffect(() => {\n    const wavesurfer = window.WaveSurfer.create(wavesurferSettings)\n\n    wavesurfer.on('play', play(player))\n    wavesurfer.on('pause', pause(player))\n    wavesurfer.on('stop', stop(player))\n    wavesurfer.on('ready', ready({ player, playlist }))\n    wavesurfer.on('region-created', regionCreated(playlist))\n    wavesurfer.on('region-update-end', regionUpdated(playlist))\n\n    window.wavesurfer = wavesurfer\n  }, [])\n\n  return (\n    <div className=\"player__wave\" id=\"waveform\" />\n  )\n}\n\nconst enhance = compose(\n  inject('player'),\n  inject('playlist')\n)\n\nexport default enhance(WaveWidget)\n","export default player => () => {\n  player.setIsPlaying(true)\n}\n","export default player => () => {\n  player.setIsPlaying(false)\n}\n","export default player => () => {\n  player.stop()\n}\n","import { regionToCuePoint } from '../convert'\n\nexport default playlist => (region) => {\n  if(region.attributes.ignoreEvents) return\n  playlist.addCuePoint(regionToCuePoint(region))\n}\n","import { regionToCuePoint } from '../convert'\n\nexport default playlist => region => {\n  const cuePoint = regionToCuePoint(region)\n  playlist.updateCuePoint(cuePoint)\n}\n","export const fancyTimeFormat = (timeInSeconds) => {\n  const time = parseInt(timeInSeconds, 10)\n\n  var hours = Math.floor(time / 3600)\n  var mins = Math.floor((time % 3600) / 60)\n  var secs = time % 60\n\n  // Output like \"01:01\" or \"04:03:59\" or \"123:03:59\"\n  var result = ''\n\n  if (hours > 0) {\n    if (hours < 10) {\n      hours = `0${hours}`\n    }\n    result += `${hours}:`\n  }\n\n  if (mins < 10) {\n    mins = `0${mins}`\n  }\n\n  result += `${mins}:${(secs < 10 ? '0' : '')}`\n  result += `${secs}`\n  return result\n}\n","import React, { useEffect } from 'react'\nimport { inject } from \"mobx-react\"\nimport { compose } from 'recompose';\nimport Button from '@material-ui/core/Button'\nimport { fancyTimeFormat } from '../../helpers/time'\n\nconst loadAudioBuffer = (arrayBuffer) => {\n  const AudioContext = window.AudioContext || window.webkitAudioContext\n  const context = new AudioContext()\n\n  return new Promise((resolve, reject) => {\n    context.decodeAudioData(arrayBuffer, resolve, reject)\n  }).then(buffer => {\n    try {\n      const detect = require('bpm-detective')\n      const bpm = detect(buffer)\n      const loopTime = 60*8/bpm\n      const duration = fancyTimeFormat(buffer.duration)\n\n      return { bpm, loopTime, duration }\n\n    } catch (err) {\n      console.error(err)\n    }\n  })\n}\n\nconst LoaderAudio = ({\n  playlist,\n}) => {\n  const loaderSong = async ({ arrayBuffer, blob, state={} }, mustLoad=true) => {\n    const url = await URL.createObjectURL(blob)\n    const songState = await loadAudioBuffer(arrayBuffer)\n    const newState = {\n      ...songState,\n      ...state,\n      url,\n    }\n\n    if (mustLoad) {\n      window.wavesurfer.load(url)\n    }\n\n    playlist.addSongToPlaylist({ mediaInfo: newState, cuePoints: [] }, mustLoad)\n  }\n\n  const setNewSong = (ev) => {\n    const target = ev.target\n    if (ev.target.files.length === 0) return\n\n    var fileReader  = new FileReader()\n    const blob = ev.target.files[0]\n\n    fileReader.readAsArrayBuffer(blob)\n    fileReader.onload = function() {\n      const title = target.value.split(/(\\\\|\\/)/g).pop()\n      var arrayBuffer = this.result\n\n      loaderSong({ blob, arrayBuffer, state: { title } })\n    }\n  }\n\n  const setNewSongUsingUrl = async (urlToFetch, title, mustLoad=true) => {\n    let response = await fetch(urlToFetch)\n    const blob = await response.blob()\n\n    response = await fetch(urlToFetch)\n    const arrayBuffer = await response.arrayBuffer()\n\n    loaderSong({ arrayBuffer, blob, state: { title } }, mustLoad)\n  }\n\n  useEffect(async () => {\n    if (typeof window === 'undefined') return\n    const location = window.location\n    let baseUrl = `${location.protocol}//${location.host}/`\n\n    if (location.host.match(/github/i)) {\n      baseUrl = 'https://raw.githubusercontent.com/tacnoman/rapletter/master/public'\n    }\n\n    setNewSongUsingUrl(`${baseUrl}/audios/royce-boom.mp3`, 'Royce Da 5\\'9 - Boom.mp3', false)\n    setNewSongUsingUrl(`${baseUrl}/audios/Ante-Up-Instrumental.mp3`, 'Ante Up Instrumental.mp3', false)\n    setNewSongUsingUrl(`${baseUrl}/audios/DJ-Mitsu-The-Beats-Yeah-Yall.mp3`, 'DJ-Mitsu-The-Beats-Yeah-Yall.mp3', false)\n    setNewSongUsingUrl(`${baseUrl}/audios/Pela-manha-Beat-Molla-Dj-Instrumental.mp3`, 'Pela manhã Beat - Molla DJ', true)\n  }, [])\n\n  return (\n    <div style={{ flexGrow: 1 }}>\n      <div>\n        <h3>Load your files here</h3>\n      </div>\n      <Button\n        label\n        style={{ margin: 12, cursor: 'pointer' }}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Choose a song\n        <input type=\"file\" id=\"mediaFile\" style={{\n          cursor: 'pointer',\n          position: 'absolute',\n          top: 0,\n          bottom: 0,\n          right: 0,\n          left: 0,\n          width: '100%',\n          opacity: 0,\n        }} onChange={setNewSong}\n        accept=\"audio/*\" />\n      </Button>\n    </div>\n  )\n}\n\nconst enhance = compose(\n  inject('playlist')\n)\n\nexport default enhance(LoaderAudio)\n","const getGlobal = (name, timeout = 5000, interval = 10) =>\n  new Promise((resolve, reject) => {\n    const startTime = Date.now()\n\n    const check = () => {\n      if (window[name]) {\n        return resolve(window[name])\n      }\n\n      if(timeout < Date.now() - startTime) {\n        return reject(new Error('Timeout loading ' + name))\n      }\n\n      window.setTimeout(check, interval)\n    }\n\n    check()\n  })\n\nexport default getGlobal\n","import React from 'react'\nimport { compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport { fancyTimeFormat } from '../../helpers/time'\n\nconst MediaInfo = ({\n  playlist\n}) => {\n  if (playlist.currentSong === null) return <div>Loading...{playlist.currentSong}</div>\n\n  const {\n    bpm,\n    duration,\n    loopTime,\n    currentTime,\n  } = playlist.song.mediaInfo || {}\n\n  return (\n    <div className=\"player__media-info\">\n      <div className=\"player__media-info--line\">\n        <div className=\"player__media-info--currentTime\">{currentTime}</div>\n        <div className=\"player__media-info--duration\">{duration}</div>\n      </div>\n      <div className=\"player__media-info--line\">\n        <div className=\"player__media-info--bpm\">BPM: {bpm} | LoopTime: {fancyTimeFormat(loopTime)}</div>\n      </div>\n    </div>\n  )\n}\n\nconst enhance = compose(\n  inject('playlist'),\n  observer,\n)\n\nexport default enhance(MediaInfo)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport { compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst Playlist = ({ wavesurfer, playlist }) => {\n  const deleteSong = (songId) => {\n    const url = playlist.songs[playlist.currentSong].mediaInfo.url\n    URL.revokeObjectURL(url)\n    playlist.deleteSong(songId)\n  }\n\n  return (\n    <List>\n      {playlist.songs.map((song, idx) => {\n        return (\n          <ListItem button key={idx}\n            disabled={idx === playlist.currentSong}\n            onClick={() => {\n              wavesurfer.load(song.mediaInfo.url)\n              playlist.currentSong = idx\n            }}\n            style={{ backgroundColor: idx !== playlist.currentSong ? '#FAFAFA' : '#DCEDC8' }}\n          >\n            <ListItemText primary={song.mediaInfo.title} />\n            {idx !== playlist.currentSong && (\n              <ListItemSecondaryAction>\n                <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => deleteSong(idx)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            )}\n          </ListItem>\n        )\n      })}\n    </List>\n  )\n}\n\nconst enhance = compose(\n  inject(['playlist']),\n  observer,\n)\n\nexport default enhance(Playlist)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { fancyTimeFormat } from '../../helpers/time'\nimport IconButton from '@material-ui/core/IconButton'\nimport PlayIcon from '@material-ui/icons/PlayArrowOutlined'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport { colorGenerator } from '../../helpers/colorGenerator'\nimport { inject, observer } from 'mobx-react'\nimport { compose } from 'recompose'\nimport Card from '@material-ui/core/Card'\nimport CardHeader from '@material-ui/core/CardHeader'\nimport TextField from '@material-ui/core/TextField'\nimport AddIcon from '@material-ui/icons/Add';\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\n\nexport const deleteCuePoint = (playlist, cuePoint, wavesurfer) => {\n  playlist.removeCuePoint(cuePoint.id)\n  const waveCuePoint = wavesurfer.regions.list[cuePoint.id]\n  if (waveCuePoint) waveCuePoint.remove()\n}\n\nexport const addLoop = (player, wavesurfer, playlist) => {\n  const currentTime = wavesurfer.getCurrentTime()\n  const endTime = currentTime + playlist.song.mediaInfo.loopTime\n\n  wavesurfer.addRegion({\n    start: currentTime,\n    end: endTime,\n    color: colorGenerator(),\n    loop: player.loopActive,\n    drag: true,\n    resize: true\n  })\n}\n\nexport const toggleActive = (player, wavesurfer) => {\n  player.toggleActiveLoop()\n\n  if (!wavesurfer.regions) return\n  for(let regionId in wavesurfer.regions.list) {\n    const region = wavesurfer.regions.list[regionId]\n    region.loop = player.loopActive\n  }\n}\n\nconst CuePoint = inject('playlist')(({\n  cuePoint,\n  wavesurfer,\n  playlist,\n}) => (\n  <Card>\n    <CardHeader\n      avatar={\n        <IconButton aria-label=\"settings\" onClick={() => {\n          const seekTo = cuePoint.start / wavesurfer.getDuration()\n          wavesurfer.seekTo(seekTo)\n        }}>\n          <PlayIcon />\n        </IconButton>\n      }\n      title={\n        <div>\n          <TextField\n            type=\"time\"\n            readOnly\n            label=\"Start at\"\n            value={fancyTimeFormat(cuePoint.start || 0)}\n          />\n          <TextField\n            type=\"time\"\n            label=\"Finish at\"\n            readOnly\n            value={fancyTimeFormat(cuePoint.end || 0)}\n          />\n        </div>\n      }\n      action={\n        <IconButton\n          aria-label=\"Delete\"\n          onClick={() => deleteCuePoint(playlist, cuePoint, wavesurfer)}\n        >\n          <DeleteIcon />\n        </IconButton>\n      }\n    />\n  </Card>\n))\n\nCuePoint.protoTypes = {\n  cuePoint: PropTypes.shape({\n    start: PropTypes.string,\n    end: PropTypes.string,\n    id: PropTypes.integer\n  }),\n  wavesurfer: PropTypes.object\n}\n\nconst CuePoints = ({ wavesurfer, player, playlist }) => {\n  if (!playlist.song) return <div>Loading...</div>\n  return (\n    <div className=\"cue-point\">\n      <div className=\"cue-point__control\">\n        <span>CuePoints</span>\n        <IconButton\n          tooltip=\"Active loops\"\n          onClick={() => toggleActive(player, wavesurfer)}\n          style={{ color: player.loopActive ? 'rgba(0, 100, 0, 0.6)' : null, fontSize: '20px' }}\n        >\n          <RotateLeftIcon />\n        </IconButton>\n\n        <IconButton\n          tooltip=\"Add cuepoint\"\n          onClick={() => addLoop(player, wavesurfer, playlist)}\n          style={{fontSize: '20px'}}\n        >\n          <AddIcon />\n        </IconButton>\n      </div>\n      <div className=\"cue-point__points-area\">\n        {playlist.song.cuePoints.map((cuePoint) => (\n          <CuePoint\n            key={cuePoint.id}\n            cuePoint={cuePoint}\n            wavesurfer={wavesurfer} />\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst enhance = compose(\n  inject('player'),\n  inject('playlist'),\n  observer,\n)\n\nexport default enhance(CuePoints)\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { lifecycle, compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport { addLoop, toggleActive, deleteCuePoint } from './CuePoint'\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Slider from '@material-ui/core/Slider';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport StopIcon from '@material-ui/icons/Stop';\nimport VolumeOffIcon from '@material-ui/icons/VolumeOff';\nimport VolumeDownIcon from '@material-ui/icons/VolumeDown';\nimport VolumeUpIcon from '@material-ui/icons/VolumeUp';\n\nconst volumes = [\n  {value: 0, icon: VolumeOffIcon},\n  {value: 0.5, icon: VolumeDownIcon},\n  {value: 1, icon: VolumeUpIcon}\n]\n\nconst MediaControl = ({\n  wavesurfer = {},\n  player,\n}) => {\n  const { isPlaying } = player\n  const [volume, setVolume] = useState(2);\n  const VolumeIcon = volumes[volume].icon\n\n  const handleVolume = () => {\n    const newIdxVolume = volume+1 >= volumes.length ? 0 : volume+1\n    const newVolume = volumes[newIdxVolume]\n    window.wavesurfer.setVolume(newVolume.value)\n    setVolume(newIdxVolume)\n  }\n\n  return (\n    <React.Fragment>\n      <ButtonGroup size=\"small\" aria-label=\"small outlined button group\">\n        <Button onClick={() => wavesurfer.playPause()}>\n          {isPlaying ? <PauseIcon /> : <PlayArrowIcon />}\n        </Button>\n        <Button onClick={() => wavesurfer.stop()}>\n          <StopIcon />\n        </Button>\n        <Button onClick={handleVolume}>\n          <VolumeIcon />\n        </Button>\n      </ButtonGroup>\n\n      <Slider\n        min={1} max={200}\n        onChange={(_, value) => {\n          var zoomLevel = Number(value)\n          wavesurfer.zoom(zoomLevel)\n        }}\n      />\n    </React.Fragment>\n  )\n}\n\nconst enhance = compose(\n  inject('player'),\n  inject('playlist'),\n  lifecycle({\n    componentDidMount() {\n      if(typeof window === 'undefined') return\n\n      document.addEventListener('keydown', (ev) => {\n        if (ev.target.tagName !== 'BODY') return\n        const KEY_1 = 49\n        const KEY_A = 65\n        const KEY_D = 68\n        const KEY_L = 76\n        const KEY_N = 78\n        const KEY_P = 80\n        const KEY_RIGHT = 39\n        const KEY_LEFT = 37\n        const KEY_SPACE = 32\n        const KEY_ENTER = 13\n\n        if(ev.which >= KEY_1 && ev.which <= KEY_1+8) {\n          const codeKey = ev.which - KEY_1\n          const { cuePoints } = this.props.playlist.song\n\n          if(codeKey >= cuePoints.length) return\n          const cuePoint = cuePoints[codeKey]\n\n          if(ev.shiftKey) {\n            deleteCuePoint(this.props.playlist, cuePoint, this.props.wavesurfer)\n            return\n          }\n\n          const seekTo = cuePoint.start / this.props.wavesurfer.getDuration()\n          this.props.wavesurfer.seekTo(seekTo)\n          return\n        }\n\n        if(ev.which === KEY_L) {\n          toggleActive(this.props.player, this.props.wavesurfer)\n          return\n        }\n\n        if(ev.which === KEY_N) {\n          addLoop(this.props.player, this.props.wavesurfer, this.props.playlist)\n          return\n        }\n\n        if(ev.which === KEY_SPACE || ev.which === KEY_P) {\n          ev.preventDefault()\n          this.props.wavesurfer.playPause()\n        }\n\n        if(ev.which === KEY_LEFT || ev.which === KEY_A) {\n          this.props.wavesurfer.skip(-5)\n        }\n\n        if(ev.which === KEY_RIGHT || ev.which === KEY_D) {\n          this.props.wavesurfer.skip(5)\n        }\n\n        if(ev.which === KEY_ENTER) {\n          this.props.wavesurfer.stop()\n        }\n      })\n    }\n  }),\n  observer,\n)\n\nexport default enhance(MediaControl)\n","import React, { useEffect, useState } from 'react'\nimport Grid from '@material-ui/core/Grid'\nimport WaveWidget from './WaveWidget'\nimport LoaderAudio from './LoaderAudio'\nimport { fancyTimeFormat } from '../../helpers/time'\nimport getGlobal from '../../helpers/getGlobal'\nimport MediaInfo from './MediaInfo'\nimport Playlist from './Playlist'\nimport { compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport MediaControl from './MediaControl'\nimport CuePoint from './CuePoint'\n\nconst Player = ({ playlist }) => {\n  const [shouldRender, setShouldRender] = useState(false)\n  const [currentTime, setCurrentTime] = useState(null)\n\n  const runEvents = () => {\n    if (!window.wavesurfer) return\n\n    const newTime = fancyTimeFormat(window.wavesurfer.getCurrentTime())\n    if(newTime !== currentTime) {\n      setCurrentTime(newTime)\n    }\n  }\n\n  useEffect(() => {\n    getGlobal('WaveSurfer').then(() => {\n      setShouldRender(true)\n      setInterval(runEvents, 400)\n    })\n  }, [])\n\n  if (!shouldRender) return <div>Loading...</div>\n\n  const wavesurfer = window.wavesurfer\n  return (\n    <div className=\"player\">\n      <div className=\"player__title\">{playlist.song ? playlist.song.mediaInfo.title : 'loading...'}</div>\n      <WaveWidget />\n      <MediaInfo />\n      <MediaControl wavesurfer={wavesurfer} />\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={3}>\n          <CuePoint wavesurfer={wavesurfer} />\n        </Grid>\n        <Grid item xs={12} md={9}>\n          <LoaderAudio wavesurfer={wavesurfer} />\n          <Playlist wavesurfer={wavesurfer} />\n        </Grid>\n      </Grid>\n    </div>\n  )\n}\n\nconst enhance = compose(\n  inject('playlist'),\n  observer,\n)\n\nexport default enhance(Player)\n","import React, { useState } from 'react'\nimport Drawer from '@material-ui/core/Drawer';\nimport Button from '@material-ui/core/Button';\n\nconst Key = ({ value }) => (\n  <kbd className=\"light\">{value}</kbd>\n)\n\nexport default () => {\n\n  const [open, setOpen] = useState(false)\n  const handleToggle = () => setOpen(!open)\n  const handleClose = () => setOpen(false)\n\n  return (\n    <div>\n      <Button\n        label=\"Tutorial\"\n        onClick={handleToggle}\n        variant=\"contained\"\n        color=\"primary\"\n      >\n        Tutorial\n      </Button>\n      <Drawer\n        open={open}\n        docked={false}\n        onClose={handleClose}\n        onRequestChange={(open) => setOpen(open)}\n        anchor=\"bottom\"\n        width={500}\n      >\n        <div style={{padding: '1rem'}}>\n          <h3>How to use</h3>\n\n          <h4>Keyboard Events</h4>\n          <p>You can use the keyboards bellow control the:</p>\n          <h5>CuePoints</h5>\n          <p><Key value={1} /> to <Key value={9} /> - To go to cuePoint (limit is 9).</p>\n          <p><Key value={'Shift'} />+<Key value={1} /> to <Key value={'Shift'} />+<Key value={9} /> - Delete cuePoint.</p>\n          <p><Key value={'L'} /> - To toggle the active loops.</p>\n          <p><Key value={'N'} /> - To add a new CuePoint.</p>\n\n          <h5>Player</h5>\n          <p><Key value={'➡'} /> or <Key value={'d'} /> - To skip forward 5 seconds.</p>\n          <p><Key value={'⬅'} /> or <Key value={'a'} /> - To skip backward 5 seconds.</p>\n          <p><Key value={'Space'} /> or <Key value={'p'} /> - To play/pause.</p>\n          <p><Key value={'Enter'} /> - To stop.</p>\n        </div>\n      </Drawer>\n    </div>\n  );\n}\n","import { observable, decorate, computed } from 'mobx';\n\nclass Player {\n  isPlaying = false\n  loopActive = false\n\n  setIsPlaying(playing) {\n    this.isPlaying = playing\n  }\n\n  togglePlaying() {\n    this.isPlaying = !this.isPlaying\n  }\n\n  toggleActiveLoop() {\n    this.loopActive = !this.loopActive\n  }\n\n  stop() {\n    this.isPlaying = false\n  }\n}\n\ndecorate(Player, {\n  isPlaying: observable,\n  loopActive: observable,\n})\n\nconst player = new Player()\n\nexport default player\n","import { observable, decorate, computed } from 'mobx';\n\nclass Playlist {\n  currentSong = null\n  songs = []\n\n  get song() {\n    return this.songs[this.currentSong]\n  }\n\n  addSongToPlaylist(song, mustLoad = false) {\n    this.songs.push(song)\n\n    if (this.currentSong === null) {\n      this.currentSong = 0\n    }\n\n    if (mustLoad) {\n      this.currentSong = this.songs.length - 1\n    }\n  }\n\n  addCuePoint(cuePoint) {\n    if (!this.song) return\n    this.song.cuePoints.push(cuePoint)\n  }\n\n  updateCuePoint(cuePoint) {\n    if (!this.song) return\n\n    this.song.cuePoints = this.song.cuePoints.map((currentCuePoint) => {\n      return currentCuePoint.id === cuePoint.id\n        ? cuePoint\n        : currentCuePoint\n    })\n  }\n\n  removeCuePoint(id) {\n    if (!this.song) return\n    this.song.cuePoints = this.song.cuePoints.filter((cuePoint) => cuePoint.id !== id)\n  }\n\n  deleteSong(index) {\n    const newSongs = this.songs\n      .map((song, idx) => idx === index ? null : song)\n      .filter(s => s)\n\n    this.songs.replace(newSongs)\n    if (this.currentSong >= index) this.currentSong -= 1\n    if (this.currentSong < 0) this.currentSong = null\n  }\n}\n\ndecorate(Playlist, {\n  currentSong: observable,\n  songs: observable,\n  song: computed,\n})\n\nconst playlist = new Playlist()\n\nexport default playlist\n","import fetch from 'node-fetch'\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000'\n\nexport default (url, data = {}) => (\n  fetch(`${API_URL}/${url}`, {\n    ...data,\n    headers: {\n      ...data.headers || {},\n      authorization: `Bearer ${localStorage.token}`,\n    },\n    mode: 'cors',\n  })\n)\n","import fetch from './fetchFactory'\n\nexport const getLyrics = async () => {\n  try {\n    const response = await fetch('api/v1/lyrics')\n    const data = await response.json()\n    return data\n  } catch (error) {\n    console.log(error)\n  }\n}\n\nexport const saveLyric = async (lyric) => {\n  try {\n    const url = lyric.id\n      ? `api/v1/lyrics/${lyric.id}`\n      : 'api/v1/lyrics'\n\n    const response = await fetch(url, {\n      method: lyric.id ? 'PUT' : 'POST',\n      body: JSON.stringify(lyric)\n    })\n\n    const data = await response.json()\n    return data\n  } catch (error) {\n    console.log(error)\n    return null\n  }\n}\n\nexport const deleteLyric = async (id) => {\n  try {\n    const response = await fetch(`api/v1/lyrics/${id}`, {\n      method: 'DELETE',\n    })\n\n    const data = await response.json()\n    return data\n  } catch (error) {\n    console.log(error)\n  }\n}\n","import { observable, decorate } from 'mobx'\nimport { getLyrics, saveLyric, deleteLyric } from '../api/lyrics'\n\nconst initialStateLyric = {\n  title: '',\n  lyric: '',\n}\n\nclass Lyrics {\n  lyric = null\n  list = null\n  loading = false\n\n  setLyrics(lyrics) {\n    this.list = lyrics\n  }\n\n  async loadLyrics() {\n    if (this.list) return\n\n    const lyrics = await getLyrics()\n    if (lyrics) {\n      this.list = lyrics.data\n    }\n  }\n\n  newLyric() {\n    this.lyric = { ...initialStateLyric }\n  }\n\n  resetLyric() {\n    this.lyric = null\n  }\n\n  setLyricById(id) {\n    const lyric = this.list.find(lyric => lyric.id === id)\n    if (lyric) this.lyric = {...lyric}\n  }\n\n  setLyric(lyric) {\n    this.lyric = lyric\n  }\n\n  setTitle(title) {\n    this.lyric.title = title\n  }\n\n  setLyricText(lyric) {\n    this.lyric.lyric = lyric\n  }\n\n  addLyric(data) {\n    this.list.push(data)\n    debugger\n  }\n\n  async saveLyric() {\n    try {\n      this.loading = true\n      const response = await saveLyric(this.lyric)\n      if (response) this.updateLyric(response.data)\n      this.resetLyric()\n    } catch (e) {\n      console.log(e)\n    } finally {\n      this.loading = false\n    }\n  }\n\n  updateLyric(data) {\n    this.lyric = data\n    if (this.list.find(l => l.id === data.id)) {\n      this.list = this.list.map(lyric => lyric.id === data.id\n        ? data\n        : lyric\n      )\n      return\n    }\n\n    this.list.replace([...this.list.map(l => l), data])\n  }\n\n  async delete(id) {\n    this.list = this.list.map(lyric => lyric.id === id\n      ? null\n      : lyric\n    ).filter(l => l)\n  }\n}\n\ndecorate(Lyrics, {\n  lyric: observable,\n  list: observable,\n  loading: observable,\n})\n\nconst lyric = new Lyrics()\n\nexport default lyric\n","import player from './player'\nimport playlist from './playlist'\nimport user from './user'\nimport lyrics from './lyrics'\n\nexport default {\n  player,\n  playlist,\n  user,\n  lyrics,\n};\n","import React, { useEffect, useState } from 'react'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\n\nconst ListOfWords = ({\n  loading,\n  word,\n  words = [],\n}) => {\n  if (loading) return <div>Loading....</div>\n\n  return (\n    <div>\n      <List dense style={{ maxHeight: '300px', overflowY: 'auto' }}>\n        {word === '' && (\n          <ListItem>\n            <ListItemText\n              primary={'Digite uma palavra para buscar rimas'}\n            />\n          </ListItem>\n        )}\n        {words && word !== '' && words.length === 0 && (\n          <ListItem>\n            <ListItemText\n              primary={'Nenhuma palavra encontrada'}\n            />\n          </ListItem>\n        )}\n        {words && word !== '' && words.map(currentWord => (\n          <ListItem>\n            <ListItemText\n              primary={currentWord}\n            />\n          </ListItem>\n        ))}\n      </List>\n    </div>\n  )\n}\n\nexport default ListOfWords\n","import React, { useState } from 'react'\nimport ListOfWords from './ListOfWords'\nimport TextField from '@material-ui/core/TextField'\nimport debounce from 'lodash/debounce'\nimport Card from '@material-ui/core/Card'\nimport { ApolloConsumer } from '@apollo/react-hooks';\nimport { gql } from 'apollo-boost';\n\nconst RHYMES_WORDS = gql`\nquery($word: String) {\n  getRhymes(word: $word) {\n    links {\n      last\n      previous\n      next\n    }\n    data {\n      language\n      words\n    }\n  }\n}\n`\n\nconst debounceGet = debounce(({\n  currentWord, setListOfWords, setLoading, client,\n}) => {\n  if (currentWord === '') return\n\n  client.query({\n    query: RHYMES_WORDS,\n    variables: { word: currentWord }\n  }).then(({ data, loading }) => {\n    setLoading(loading)\n    setListOfWords(data.getRhymes.data.words || [])\n  });\n\n\n}, 500)\n\nconst AutoCompleteRhyme = () => {\n  const [word, setWord] = useState('')\n  const [listOfWords, setListOfWords] = useState([])\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <ApolloConsumer>\n      {client => (\n        <Card>\n          <TextField\n              id=\"standard-name\"\n              label=\"Word to rhyme\"\n              className={''}\n              value={word}\n              onChange={(e) => {\n                setWord(e.target.value)\n                debounceGet({\n                  currentWord: e.target.value,\n                  setListOfWords,\n                  client,\n                  setLoading,\n                })\n              }}\n              margin=\"normal\"\n            />\n\n            <ListOfWords loading={loading} word={word} words={listOfWords} />\n        </Card>\n      )}\n    </ApolloConsumer>\n  )\n}\n\nexport default AutoCompleteRhyme\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Wrapper = styled.div`\n  text-align: center;\n`\n\nconst Logo = () => {\n  let baseUrl = ''\n\n  if (typeof window !== 'undefined' && window.location.host.match(/github/i)) {\n    baseUrl = 'https://raw.githubusercontent.com/tacnoman/mustard-player/master/public'\n  }\n\n  return (\n    <Wrapper>\n      <img src={`${baseUrl}/logo.png`} style={{ maxWidth: '90%' }} alt=\"Mustard Player\" />\n    </Wrapper>\n  )\n}\n\nexport default Logo\n","import React, { useEffect, useState } from 'react'\nimport { compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport { List, ListItem, ListItemSecondaryAction, ListItemText } from '@material-ui/core'\nimport PlusOne from '@material-ui/icons/AddCircleOutline'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport Slide from '@material-ui/core/Slide'\nimport { gql } from 'apollo-boost';\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n\nconst GET_LYRICS = gql`\nquery {\n  getLyrics {\n    title\n    id\n    lyric\n    updatedAt\n  }\n}\n`\n\nconst DELETE_LYRIC = gql`\nmutation($id: String) {\n  deleteLyric(id: $id) {\n    response\n  }\n}\n`\n\nconst ListLyrics = ({\n  lyrics,\n  client,\n}) => {\n  const [open, setOpen] = useState(false)\n  const [lyricId, setLyricId] = useState(null)\n\n  useEffect(() => {\n    client.query({\n      query: GET_LYRICS,\n      context: {\n        headers: {\n          authorization: `Bearer ${localStorage.token}`\n        }\n      }\n    }).then(({ data }) => {\n      // Solve this\n      lyrics.setLyrics(data.getLyrics)\n    });\n  }, [])\n\n  const deleteLyric = (id) => {\n    client.mutate({\n      mutation: DELETE_LYRIC,\n      variables: {\n        id,\n      },\n      context: {\n        headers: {\n          authorization: `Bearer ${localStorage.token}`\n        }\n      }\n    }).then(() => {\n      lyrics.delete(id)\n    });\n  }\n\n  if (!lyrics.list) {\n    return <div>Loading....</div>\n  }\n\n  return (\n    <div>\n      <IconButton onClick={() => lyrics.newLyric()}>\n        <PlusOne />\n      </IconButton>\n      <List>\n        {lyrics.list.map(lyric => (\n          <ListItem\n            button\n            onClick={() => lyrics.setLyric({ ...lyric })}\n            key={lyric.id}\n          >\n            <ListItemText primary={lyric.title} />\n            <ListItemSecondaryAction>\n              <IconButton edge=\"end\" aria-label=\"delete\" onClick={() => { setOpen(true); setLyricId(lyric.id); }}>\n                <DeleteIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"alert-dialog-slide-title\"\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle id=\"alert-dialog-slide-title\">Delete lyric?</DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-slide-description\">\n            Are you sure want delete this lyric? You cannot recover this one.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={() => {\n            deleteLyric(lyricId)\n            setOpen(false)\n          }} color=\"primary\">\n            Yes, delete\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nconst enhance = compose(\n  inject('lyrics'),\n  observer,\n)\n\nexport default enhance(ListLyrics)\n","import React from 'react'\nimport BackButton from '@material-ui/icons/ArrowLeft'\nimport IconButton from '@material-ui/core/IconButton'\nimport { compose } from 'recompose'\nimport { inject, observer } from 'mobx-react'\nimport FormControl from '@material-ui/core/FormControl'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport Input from '@material-ui/core/Input'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport Button from '@material-ui/core/Button'\nimport { gql } from 'apollo-boost';\n\nconst CREATE_LYRIC = gql`\nmutation($title: String, $lyric: String) {\n  createLyric(title: $title, lyric: $lyric) {\n    id\n    title\n    lyric\n  }\n}\n`\n\nconst UPDATE_LYRIC = gql`\nmutation($title: String, $lyric: String, $id: String) {\n  updateLyric(title: $title, lyric: $lyric, id: $id) {\n    id\n    title\n    lyric\n  }\n}\n`\n\nconst LyricForm = ({\n  lyrics,\n  client,\n}) => {\n  const saveLyric = () => {\n    const mutation = lyrics.lyric.id ? UPDATE_LYRIC : CREATE_LYRIC\n    client.mutate({\n      mutation,\n      variables: { ... lyrics.lyric },\n      context: {\n        headers: {\n          authorization: `Bearer ${localStorage.token}`\n        }\n      }\n    }).then(({ data }) => {\n      if (lyrics.lyric.id) {\n        lyrics.updateLyric(data.updateLyric)\n      } else {\n        lyrics.addLyric(data.createLyric)\n      }\n      \n      lyrics.resetLyric()\n    });\n  }\n\n  return <div>\n    <IconButton onClick={() => lyrics.resetLyric()}>\n      <BackButton />\n    </IconButton>\n\n    <div>\n      <FormControl fullWidth>\n        <InputLabel htmlFor=\"my-input\">Title</InputLabel>\n        <Input fullWidth onChange={ev => lyrics.setTitle(ev.target.value)} id=\"my-input\" aria-describedby=\"title\" value={lyrics.lyric.title} />\n        <FormHelperText id=\"title\">Title of your lyric.</FormHelperText>\n      </FormControl>\n    </div>\n\n    <div>\n      <FormControl fullWidth>\n        <InputLabel htmlFor=\"lyric-input\">Lyric</InputLabel>\n        <Input rows={5} fullWidth onChange={ev => lyrics.setLyricText(ev.target.value)} id=\"lyric-input\" multiline aria-describedby=\"lyric\" value={lyrics.lyric.lyric} />\n        <FormHelperText id=\"lyric\">Write your lyric here</FormHelperText>\n      </FormControl>\n    </div>\n\n    <Button variant=\"contained\" color=\"primary\" onClick={() => saveLyric()}>Save lyric</Button>\n  </div>\n}\n\nconst enhance = compose(\n  inject('lyrics'),\n  observer,\n)\n\nexport default enhance(LyricForm)\n","import React, { useEffect } from 'react'\nimport { compose } from 'recompose';\nimport { inject, observer } from 'mobx-react'\nimport ListLyrics from './ListLyrics'\nimport { Card } from '@material-ui/core'\nimport LyricForm from './LyricForm'\nimport { ApolloConsumer } from '@apollo/react-hooks';\n\nconst Lyrics = ({\n  user,\n  lyrics,\n}) => {\n  useEffect(() => {\n    if (typeof window === 'undefined') return\n    user.init()\n\n    if (window.location.hash) {\n      user.setToken(window.location.hash.replace('#', ''))\n    }\n  }, []);\n\n  if (lyrics.loading) return <div>Loading....</div>\n\n  // DONT REMOVE THIS!\n  console.log(lyrics.lyric)\n\n  return (\n    <Card>\n      {user.logged\n        ? <div>Welcome {user.info.givenName}!</div>\n        : <div>You must make login to see lyrics</div>\n      }\n\n      {user.logged && (\n        <ApolloConsumer>\n          {client => (\n            <>\n              {lyrics.lyric\n                ? <LyricForm client={client}  />\n                : <ListLyrics client={client} />\n              }\n            </>\n          )}\n        </ApolloConsumer>\n      )}\n    </Card>\n  )\n}\n\nconst enhance = compose(\n  inject('user'),\n  inject('lyrics'),\n  observer,\n)\n\nexport default enhance(Lyrics)\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport { compose } from 'recompose';\nimport { inject, observer } from 'mobx-react';\nimport Avatar from '@material-ui/core/Avatar';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  avatar: {\n    margin: 10,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nconst Header = ({\n  user,\n}) => {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const redirectToLogin = () => {\n    if (typeof window === 'undefined') return\n\n    window.location.href = 'http://api.mustardplayer.io/auth';\n  }\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\n            <MenuIcon />\n          </IconButton> */}\n          <Typography variant=\"h6\" className={classes.title}>\n            Mustard Player\n          </Typography>\n\n          {user.logged\n          ? (\n            <div>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <Avatar alt=\"Remy Sharp\" src={user.info.picture} className={classes.avatar} />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: 'top',\n                  horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem onClick={() => user.logout()}>Logout</MenuItem>\n              </Menu>\n            </div>\n          )\n          : <Button onClick={redirectToLogin} color=\"inherit\">Login</Button>}\n          \n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nconst enhance = compose(\n  inject('user'),\n  observer,\n)\n\nexport default enhance(Header)\n","import Header from './Header'\n\nexport default Header","import React from 'react'\nimport { Provider } from \"mobx-react\"\nimport { Player } from './components/Player'\nimport { ApolloProvider } from '@apollo/react-hooks';\nimport ApolloClient from 'apollo-boost'\nimport TutorialBar from './components/TutorialBar'\nimport stores from './store'\nimport { AutoCompleteRhyme } from './components/AutoCompleteRhyme'\nimport Container from '@material-ui/core/Container'\nimport { version } from '../package.json'\nimport Logo from './components/Logo'\nimport Lyrics from './components/Lyrics'\nimport './App.css'\nimport { Grid } from '@material-ui/core'\nimport Header from './components/Header'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport purple from '@material-ui/core/colors/deepPurple';\nimport green from '@material-ui/core/colors/yellow';\n\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_GRAPHQL_ENDPOINT || 'http://localhost:4000/graphql'\n})\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: purple,\n    secondary: green,\n  },\n  status: {\n    danger: 'orange',\n  },\n});\n\nwindow.store = stores\n\nconst App = () => {\n  return (\n    <ApolloProvider client={client}>\n      <ThemeProvider theme={theme}>\n        <Provider {...stores}>\n          <div>\n            <Header />\n            <Container>\n              <Logo />\n              <Player />\n              <Grid container>\n                <Grid item xs={12} md={3}>\n                  <AutoCompleteRhyme />\n                </Grid>\n                <Grid item xs={12} md={9}>\n                  <Lyrics />\n                </Grid>\n              </Grid>\n              <TutorialBar />\n            </Container>\n            Version {version}\n          </div>\n        </Provider>\n      </ThemeProvider>\n    </ApolloProvider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}