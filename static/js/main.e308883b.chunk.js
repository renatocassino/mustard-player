(this.webpackJsonpmustard=this.webpackJsonpmustard||[]).push([[0],{109:function(e,t,n){"use strict";(function(e){var r=n(38),a=n(39),i=n(10),o=function(){function t(){Object(r.a)(this,t),this.logged=!1,this.token=null,this.info={}}return Object(a.a)(t,[{key:"init",value:function(){localStorage.token&&this.setToken(localStorage.token)}},{key:"setToken",value:function(e){e.match(/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/)?(this.logged=!0,this.token=e,localStorage.token=e,this.setInfo(),window.history.replaceState(null,null," ")):this.logout()}},{key:"setInfo",value:function(){var t=this.token.split(".")[1],n=e.from(t,"base64").toString();this.info=JSON.parse(n)}},{key:"logout",value:function(){this.logged=!1,this.token=null,localStorage.removeItem("token")}}]),t}();Object(i.g)(o,{logout:i.l,setToken:i.l,init:i.l,logged:i.l});var c=new o;t.a=c}).call(this,n(160).Buffer)},114:function(e){e.exports=JSON.parse('{"a":"0.1.0"}')},144:function(e,t,n){e.exports=n(174)},149:function(e,t,n){},173:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=(n(149),n(11)),l=n(22),u=n(228),s=n(95),p=n.n(s),f=n(28),m=function(){var e=Math.floor(255*Math.random())+1,t=Math.floor(255*Math.random())+1,n=Math.floor(255*Math.random())+1;return"rgba(".concat(e,", ").concat(t,", ").concat(n,", 0.2)")},d=function(e){return{id:e.id,start:e.start,end:e.end,color:m(),drag:!1}},y=function(e){return{id:e.id,start:e.start,end:e.end}};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=n(17),b=(p()(),{container:"#waveform",waveColor:"violet",progressColor:"purple",splitChannels:!0,height:64,barWidth:0}),E=Object(g.a)(Object(c.b)("player"),Object(c.b)("playlist"))((function(e){var t=e.player,n=e.playlist;return Object(r.useEffect)((function(){var e=window.WaveSurfer.create(b);e.on("play",function(e){return function(){e.setIsPlaying(!0)}}(t)),e.on("pause",function(e){return function(){e.setIsPlaying(!1)}}(t)),e.on("stop",function(e){return function(){e.stop()}}(t)),e.on("ready",function(e){var t=e.player,n=e.playlist;return function(){if(n.song){var e=window.wavesurfer;e.clearRegions();for(var r=n.song.cuePoints,a=0;a<r.length;a++){var i=r[a],o=h({},d(i),{loop:t.loopActive,drag:!0,resize:!0,attributes:{ignoreEvents:!0}});e.addRegion(o)}e.play()}}}({player:t,playlist:n})),e.on("region-created",function(e){return function(t){t.attributes.ignoreEvents||e.addCuePoint(y(t))}}(n)),e.on("region-update-end",function(e){return function(t){var n=y(t);e.updateCuePoint(n)}}(n)),window.wavesurfer=e}),[]),a.a.createElement("div",{className:"player__wave",id:"waveform"})})),O=n(19),w=n.n(O),j=n(31),k=n(214),P=function(e){var t=parseInt(e,10),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60,i="";return n>0&&(n<10&&(n="0".concat(n)),i+="".concat(n,":")),r<10&&(r="0".concat(r)),i+="".concat(r,":").concat(a<10?"0":""),i+="".concat(a)};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t=new(window.AudioContext||window.webkitAudioContext);return new Promise((function(n,r){t.decodeAudioData(e,n,r)})).then((function(e){try{var t=n(154)(e);return{bpm:t,loopTime:480/t,duration:P(e.duration)}}catch(r){console.error(r)}}))},x=Object(g.a)(Object(c.b)("playlist"))((function(e){var t=e.playlist,n=function(){var e=Object(j.a)(w.a.mark((function e(n){var r,a,i,o,c,l,u,s,p=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.arrayBuffer,a=n.blob,i=n.state,o=void 0===i?{}:i,c=!(p.length>1&&void 0!==p[1])||p[1],e.next=4,URL.createObjectURL(a);case 4:return l=e.sent,e.next=7,L(r);case 7:u=e.sent,s=C({},u,{},o,{url:l}),c&&window.wavesurfer.load(l),t.addSongToPlaylist({mediaInfo:s,cuePoints:[]},c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(j.a)(w.a.mark((function e(t,r){var a,i,o,c,l=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!(l.length>2&&void 0!==l[2])||l[2],e.next=3,fetch(t);case 3:return i=e.sent,e.next=6,i.blob();case 6:return o=e.sent,e.next=9,fetch(t);case 9:return i=e.sent,e.next=12,i.arrayBuffer();case 12:c=e.sent,n({arrayBuffer:c,blob:o,state:{title:r}},a);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof window){e.next=2;break}return e.abrupt("return");case 2:t=window.location,n="".concat(t.protocol,"//").concat(t.host,"/"),t.host.match(/github/i)&&(n="https://raw.githubusercontent.com/tacnoman/rapletter/master/public"),i("".concat(n,"/audios/royce-boom.mp3"),"Royce Da 5'9 - Boom.mp3",!1),i("".concat(n,"/audios/Ante-Up-Instrumental.mp3"),"Ante Up Instrumental.mp3",!1),i("".concat(n,"/audios/DJ-Mitsu-The-Beats-Yeah-Yall.mp3"),"DJ-Mitsu-The-Beats-Yeah-Yall.mp3",!1),i("".concat(n,"/audios/Pela-manha-Beat-Molla-Dj-Instrumental.mp3"),"Pela manh\xe3 Beat - Molla DJ",!0);case 9:case"end":return e.stop()}}),e)}))),[]),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement("div",null,a.a.createElement("h3",null,"Load your files here")),a.a.createElement(k.a,{label:!0,style:{margin:12,cursor:"pointer"},variant:"contained",color:"primary"},"Choose a song",a.a.createElement("input",{type:"file",id:"mediaFile",style:{cursor:"pointer",position:"absolute",top:0,bottom:0,right:0,left:0,width:"100%",opacity:0},onChange:function(e){var t=e.target;if(0!==e.target.files.length){var r=new FileReader,a=e.target.files[0];r.readAsArrayBuffer(a),r.onload=function(){var e=t.value.split(/(\\|\/)/g).pop(),r=this.result;n({blob:a,arrayBuffer:r,state:{title:e}})}}},accept:"audio/*"})))})),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return new Promise((function(r,a){var i=Date.now();!function o(){return window[e]?r(window[e]):t<Date.now()-i?a(new Error("Timeout loading "+e)):void window.setTimeout(o,n)}()}))},T=Object(g.a)(Object(c.b)("playlist"),c.c)((function(e){var t=e.playlist;if(null===t.currentSong)return a.a.createElement("div",null,"Loading...",t.currentSong);var n=t.song.mediaInfo||{},r=n.bpm,i=n.duration,o=n.loopTime,c=n.currentTime;return a.a.createElement("div",{className:"player__media-info"},a.a.createElement("div",{className:"player__media-info--line"},a.a.createElement("div",{className:"player__media-info--currentTime"},c),a.a.createElement("div",{className:"player__media-info--duration"},i)),a.a.createElement("div",{className:"player__media-info--line"},a.a.createElement("div",{className:"player__media-info--bpm"},"BPM: ",r," | LoopTime: ",P(o))))})),A=n(218),N=n(176),_=n(219),B=n(221),I=n(220),M=n(47),W=n.n(M),$=Object(g.a)(Object(c.b)(["playlist"]),c.c)((function(e){var t=e.wavesurfer,n=e.playlist;return a.a.createElement(A.a,null,n.songs.map((function(e,r){return a.a.createElement(N.a,{button:!0,key:r,disabled:r===n.currentSong,onClick:function(){t.load(e.mediaInfo.url),n.currentSong=r},style:{backgroundColor:r!==n.currentSong?"#FAFAFA":"#DCEDC8"}},a.a.createElement(_.a,{primary:e.mediaInfo.title}),r!==n.currentSong&&a.a.createElement(I.a,null,a.a.createElement(B.a,{edge:"end","aria-label":"delete",onClick:function(){return function(e){var t=n.songs[n.currentSong].mediaInfo.url;URL.revokeObjectURL(t),n.deleteSong(e)}(r)}},a.a.createElement(W.a,null))))})))})),z=n(7),R=n.n(z),F=n(100),Y=n.n(F),q=n(222),J=n(223),U=n(243),G=n(102),Z=n.n(G),H=n(101),K=n.n(H),V=function(e,t,n){e.removeCuePoint(t.id);var r=n.regions.list[t.id];r&&r.remove()},Q=function(e,t,n){var r=t.getCurrentTime(),a=r+n.song.mediaInfo.loopTime;t.addRegion({start:r,end:a,color:m(),loop:e.loopActive,drag:!0,resize:!0})},X=function(e,t){if(e.toggleActiveLoop(),t.regions)for(var n in t.regions.list){t.regions.list[n].loop=e.loopActive}},ee=Object(c.b)("playlist")((function(e){var t=e.cuePoint,n=e.wavesurfer,r=e.playlist;return a.a.createElement(q.a,null,a.a.createElement(J.a,{avatar:a.a.createElement(B.a,{"aria-label":"settings",onClick:function(){var e=t.start/n.getDuration();n.seekTo(e)}},a.a.createElement(Y.a,null)),title:a.a.createElement("div",null,a.a.createElement(U.a,{type:"time",readOnly:!0,label:"Start at",value:P(t.start||0)}),a.a.createElement(U.a,{type:"time",label:"Finish at",readOnly:!0,value:P(t.end||0)})),action:a.a.createElement(B.a,{"aria-label":"Delete",onClick:function(){return V(r,t,n)}},a.a.createElement(W.a,null))}))}));ee.protoTypes={cuePoint:R.a.shape({start:R.a.string,end:R.a.string,id:R.a.integer}),wavesurfer:R.a.object};var te=Object(g.a)(Object(c.b)("player"),Object(c.b)("playlist"),c.c)((function(e){var t=e.wavesurfer,n=e.player,r=e.playlist;return r.song?a.a.createElement("div",{className:"cue-point"},a.a.createElement("div",{className:"cue-point__control"},a.a.createElement("span",null,"CuePoints"),a.a.createElement(B.a,{tooltip:"Active loops",onClick:function(){return X(n,t)},style:{color:n.loopActive?"rgba(0, 100, 0, 0.6)":null,fontSize:"20px"}},a.a.createElement(K.a,null)),a.a.createElement(B.a,{tooltip:"Add cuepoint",onClick:function(){return Q(n,t,r)},style:{fontSize:"20px"}},a.a.createElement(Z.a,null))),a.a.createElement("div",{className:"cue-point__points-area"},r.song.cuePoints.map((function(e){return a.a.createElement(ee,{key:e.id,cuePoint:e,wavesurfer:t})})))):a.a.createElement("div",null,"Loading...")})),ne=n(227),re=n(245),ae=n(107),ie=n.n(ae),oe=n(106),ce=n.n(oe),le=n(108),ue=n.n(le),se=n(103),pe=n.n(se),fe=n(104),me=n.n(fe),de=n(105),ye=n.n(de),ve=[{value:0,icon:pe.a},{value:.5,icon:me.a},{value:1,icon:ye.a}],he=Object(g.a)(Object(c.b)("player"),Object(c.b)("playlist"),Object(g.b)({componentDidMount:function(){var e=this;"undefined"!==typeof window&&document.addEventListener("keydown",(function(t){if("BODY"===t.target.tagName){if(t.which>=49&&t.which<=57){var n=t.which-49,r=e.props.playlist.song.cuePoints;if(n>=r.length)return;var a=r[n];if(t.shiftKey)return void V(e.props.playlist,a,e.props.wavesurfer);var i=a.start/e.props.wavesurfer.getDuration();e.props.wavesurfer.seekTo(i)}else 76!==t.which?78!==t.which?(32!==t.which&&80!==t.which||(t.preventDefault(),e.props.wavesurfer.playPause()),37!==t.which&&65!==t.which||e.props.wavesurfer.skip(-5),39!==t.which&&68!==t.which||e.props.wavesurfer.skip(5),13===t.which&&e.props.wavesurfer.stop()):Q(e.props.player,e.props.wavesurfer,e.props.playlist):X(e.props.player,e.props.wavesurfer)}}))}}),c.c)((function(e){var t=e.wavesurfer,n=void 0===t?{}:t,i=e.player.isPlaying,o=Object(r.useState)(2),c=Object(l.a)(o,2),u=c[0],s=c[1],p=ve[u].icon;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ne.a,{size:"small","aria-label":"small outlined button group"},a.a.createElement(k.a,{onClick:function(){return n.playPause()}},i?a.a.createElement(ce.a,null):a.a.createElement(ie.a,null)),a.a.createElement(k.a,{onClick:function(){return n.stop()}},a.a.createElement(ue.a,null)),a.a.createElement(k.a,{onClick:function(){var e=u+1>=ve.length?0:u+1,t=ve[e];window.wavesurfer.setVolume(t.value),s(e)}},a.a.createElement(p,null))),a.a.createElement(re.a,{min:1,max:200,onChange:function(e,t){var r=Number(t);n.zoom(r)}}))})),ge=Object(g.a)(Object(c.b)("playlist"),c.c)((function(e){var t=e.playlist,n=Object(r.useState)(!1),i=Object(l.a)(n,2),o=i[0],c=i[1],s=Object(r.useState)(null),p=Object(l.a)(s,2),f=p[0],m=p[1],d=function(){if(window.wavesurfer){var e=P(window.wavesurfer.getCurrentTime());e!==f&&m(e)}};if(Object(r.useEffect)((function(){D("WaveSurfer").then((function(){c(!0),setInterval(d,400)}))}),[]),!o)return a.a.createElement("div",null,"Loading...");var y=window.wavesurfer;return a.a.createElement("div",{className:"player"},a.a.createElement("div",{className:"player__title"},t.song?t.song.mediaInfo.title:"loading..."),a.a.createElement(E,null),a.a.createElement(T,null),a.a.createElement(he,{wavesurfer:y}),a.a.createElement(u.a,{container:!0,spacing:3},a.a.createElement(u.a,{item:!0,xs:12,md:3},a.a.createElement(te,{wavesurfer:y})),a.a.createElement(u.a,{item:!0,xs:12,md:9},a.a.createElement(x,{wavesurfer:y}),a.a.createElement($,{wavesurfer:y}))))})),be=n(230),Ee=n(36),Oe=n(229),we=function(e){var t=e.value;return a.a.createElement("kbd",{className:"light"},t)},je=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),n=t[0],i=t[1];return a.a.createElement("div",null,a.a.createElement(k.a,{label:"Tutorial",onClick:function(){return i(!n)},variant:"contained",color:"primary"},"Tutorial"),a.a.createElement(Oe.a,{open:n,docked:!1,onClose:function(){return i(!1)},onRequestChange:function(e){return i(e)},anchor:"bottom",width:500},a.a.createElement("div",{style:{padding:"1rem"}},a.a.createElement("h3",null,"How to use"),a.a.createElement("h4",null,"Keyboard Events"),a.a.createElement("p",null,"You can use the keyboards bellow control the:"),a.a.createElement("h5",null,"CuePoints"),a.a.createElement("p",null,a.a.createElement(we,{value:1})," to ",a.a.createElement(we,{value:9})," - To go to cuePoint (limit is 9)."),a.a.createElement("p",null,a.a.createElement(we,{value:"Shift"}),"+",a.a.createElement(we,{value:1})," to ",a.a.createElement(we,{value:"Shift"}),"+",a.a.createElement(we,{value:9})," - Delete cuePoint."),a.a.createElement("p",null,a.a.createElement(we,{value:"L"})," - To toggle the active loops."),a.a.createElement("p",null,a.a.createElement(we,{value:"N"})," - To add a new CuePoint."),a.a.createElement("h5",null,"Player"),a.a.createElement("p",null,a.a.createElement(we,{value:"\u27a1"})," or ",a.a.createElement(we,{value:"d"})," - To skip forward 5 seconds."),a.a.createElement("p",null,a.a.createElement(we,{value:"\u2b05"})," or ",a.a.createElement(we,{value:"a"})," - To skip backward 5 seconds."),a.a.createElement("p",null,a.a.createElement(we,{value:"Space"})," or ",a.a.createElement(we,{value:"p"})," - To play/pause."),a.a.createElement("p",null,a.a.createElement(we,{value:"Enter"})," - To stop."))))},ke=n(38),Pe=n(39),Se=n(10),Ce=function(){function e(){Object(ke.a)(this,e),this.isPlaying=!1,this.loopActive=!1}return Object(Pe.a)(e,[{key:"setIsPlaying",value:function(e){this.isPlaying=e}},{key:"togglePlaying",value:function(){this.isPlaying=!this.isPlaying}},{key:"toggleActiveLoop",value:function(){this.loopActive=!this.loopActive}},{key:"stop",value:function(){this.isPlaying=!1}}]),e}();Object(Se.g)(Ce,{isPlaying:Se.l,loopActive:Se.l});var Le=new Ce,xe=function(){function e(){Object(ke.a)(this,e),this.currentSong=null,this.songs=[]}return Object(Pe.a)(e,[{key:"addSongToPlaylist",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.songs.push(e),null===this.currentSong&&(this.currentSong=0),t&&(this.currentSong=this.songs.length-1)}},{key:"addCuePoint",value:function(e){this.song&&this.song.cuePoints.push(e)}},{key:"updateCuePoint",value:function(e){this.song&&(this.song.cuePoints=this.song.cuePoints.map((function(t){return t.id===e.id?e:t})))}},{key:"removeCuePoint",value:function(e){this.song&&(this.song.cuePoints=this.song.cuePoints.filter((function(t){return t.id!==e})))}},{key:"deleteSong",value:function(e){var t=this.songs.map((function(t,n){return n===e?null:t})).filter((function(e){return e}));this.songs.replace(t),this.currentSong>=e&&(this.currentSong-=1),this.currentSong<0&&(this.currentSong=null)}},{key:"song",get:function(){return this.songs[this.currentSong]}}]),e}();Object(Se.g)(xe,{currentSong:Se.l,songs:Se.l,song:Se.d});var De=new xe,Te=n(109),Ae=n(124),Ne=n(110),_e=n.n(Ne);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Me="http://api.mustardplayer.io",We=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _e()("".concat(Me,"/").concat(e),Ie({},t,{headers:Ie({},t.headers||{},{authorization:"Bearer ".concat(localStorage.token)}),mode:"cors"}))},$e=function(){var e=Object(j.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,We("api/v1/lyrics");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=Object(j.a)(w.a.mark((function e(t){var n,r,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.id?"api/v1/lyrics/".concat(t.id):"api/v1/lyrics",e.next=4,We(n,{method:t.id?"PUT":"POST",body:JSON.stringify(t)});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye={title:"",lyric:""},qe=function(){function e(){Object(ke.a)(this,e),this.lyric=null,this.list=null,this.loading=!1}return Object(Pe.a)(e,[{key:"setLyrics",value:function(e){this.list=e}},{key:"loadLyrics",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.list){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$e();case 4:(t=e.sent)&&(this.list=t.data);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"newLyric",value:function(){this.lyric=Fe({},Ye)}},{key:"resetLyric",value:function(){this.lyric=null}},{key:"setLyricById",value:function(e){var t=this.list.find((function(t){return t.id===e}));t&&(this.lyric=Fe({},t))}},{key:"setLyric",value:function(e){this.lyric=e}},{key:"setTitle",value:function(e){this.lyric.title=e}},{key:"setLyricText",value:function(e){this.lyric.lyric=e}},{key:"addLyric",value:function(e){this.list.push(e)}},{key:"saveLyric",value:function(){var e=Object(j.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,ze(this.lyric);case 4:(t=e.sent)&&this.updateLyric(t.data),this.resetLyric(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateLyric",value:function(e){this.lyric=e,this.list.find((function(t){return t.id===e.id}))?this.list=this.list.map((function(t){return t.id===e.id?e:t})):this.list.replace([].concat(Object(Ae.a)(this.list.map((function(e){return e}))),[e]))}},{key:"delete",value:function(){var e=Object(j.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.list=this.list.map((function(e){return e.id===t?null:e})).filter((function(e){return e}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Object(Se.g)(qe,{lyric:Se.l,list:Se.l,loading:Se.l});var Je=new qe,Ue={player:Le,playlist:De,user:Te.a,lyrics:Je},Ge=n(35),Ze=function(e){var t=e.loading,n=e.word,r=e.words,i=void 0===r?[]:r;return t?a.a.createElement("div",null,"Loading...."):a.a.createElement("div",null,a.a.createElement(A.a,{dense:!0,style:{maxHeight:"300px",overflowY:"auto"}},""===n&&a.a.createElement(N.a,null,a.a.createElement(_.a,{primary:"Digite uma palavra para buscar rimas"})),i&&""!==n&&0===i.length&&a.a.createElement(N.a,null,a.a.createElement(_.a,{primary:"Nenhuma palavra encontrada"})),i&&""!==n&&i.map((function(e){return a.a.createElement(N.a,null,a.a.createElement(_.a,{primary:e}))}))))},He=n(111),Ke=n.n(He);function Ve(){var e=Object(Ge.a)(["\nquery($word: String) {\n  getRhymes(word: $word) {\n    links {\n      last\n      previous\n      next\n    }\n    data {\n      language\n      words\n    }\n  }\n}\n"]);return Ve=function(){return e},e}var Qe=Object(Ee.b)(Ve()),Xe=Ke()((function(e){var t=e.currentWord,n=e.setListOfWords,r=e.setLoading,a=e.client;""!==t&&a.query({query:Qe,variables:{word:t}}).then((function(e){var t=e.data,a=e.loading;r(a),n(t.getRhymes.data.words||[])}))}),500),et=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)([]),c=Object(l.a)(o,2),u=c[0],s=c[1],p=Object(r.useState)(!1),f=Object(l.a)(p,2),m=f[0],d=f[1];return a.a.createElement(be.a,null,(function(e){return a.a.createElement(q.a,null,a.a.createElement(U.a,{id:"standard-name",label:"Word to rhyme",className:"",value:n,onChange:function(t){i(t.target.value),Xe({currentWord:t.target.value,setListOfWords:s,client:e,setLoading:d})},margin:"normal"}),a.a.createElement(Ze,{loading:m,word:n,words:u}))}))},tt=n(242),nt=n(114);function rt(){var e=Object(Ge.a)(["\n  text-align: center;\n"]);return rt=function(){return e},e}var at=n(115).a.div(rt()),it=function(){var e="";return"undefined"!==typeof window&&window.location.host.match(/github/i)&&(e="https://raw.githubusercontent.com/tacnoman/mustard-player/master/public"),a.a.createElement(at,null,a.a.createElement("img",{src:"".concat(e,"/logo.png"),style:{maxWidth:"90%"},alt:"Mustard Player"}))},ot=n(118),ct=n.n(ot),lt=n(231),ut=n(235),st=n(233),pt=n(234),ft=n(232),mt=n(177);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(){var e=Object(Ge.a)(["\nmutation($id: String) {\n  deleteLyric(id: $id) {\n    response\n  }\n}\n"]);return yt=function(){return e},e}function vt(){var e=Object(Ge.a)(["\nquery {\n  getLyrics {\n    title\n    id\n    lyric\n    updatedAt\n  }\n}\n"]);return vt=function(){return e},e}var ht=a.a.forwardRef((function(e,t){return a.a.createElement(mt.a,Object.assign({direction:"up",ref:t},e))})),gt=Object(Ee.b)(vt()),bt=Object(Ee.b)(yt()),Et=Object(g.a)(Object(c.b)("lyrics"),c.c)((function(e){var t=e.lyrics,n=e.client,i=Object(r.useState)(!1),o=Object(l.a)(i,2),c=o[0],u=o[1],s=Object(r.useState)(null),p=Object(l.a)(s,2),m=p[0],d=p[1];Object(r.useEffect)((function(){n.query({query:gt,context:{headers:{authorization:"Bearer ".concat(localStorage.token)}}}).then((function(e){var n=e.data;t.setLyrics(n.getLyrics)}))}),[]);return t.list?a.a.createElement("div",null,a.a.createElement(B.a,{onClick:function(){return t.newLyric()}},a.a.createElement(ct.a,null)),a.a.createElement(A.a,null,t.list.map((function(e){return a.a.createElement(N.a,{button:!0,onClick:function(){return t.setLyric(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},key:e.id},a.a.createElement(_.a,{primary:e.title}),a.a.createElement(I.a,null,a.a.createElement(B.a,{edge:"end","aria-label":"delete",onClick:function(){u(!0),d(e.id)}},a.a.createElement(W.a,null))))}))),a.a.createElement(lt.a,{open:c,TransitionComponent:ht,keepMounted:!0,onClose:function(){return u(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},a.a.createElement(ft.a,{id:"alert-dialog-slide-title"},"Delete lyric?"),a.a.createElement(st.a,null,a.a.createElement(pt.a,{id:"alert-dialog-slide-description"},"Are you sure want delete this lyric? You cannot recover this one.")),a.a.createElement(ut.a,null,a.a.createElement(k.a,{onClick:function(){return u(!1)},color:"primary"},"Cancel"),a.a.createElement(k.a,{onClick:function(){var e;e=m,n.mutate({mutation:bt,variables:{id:e},context:{headers:{authorization:"Bearer ".concat(localStorage.token)}}}).then((function(){t.delete(e)})),u(!1)},color:"primary"},"Yes, delete")))):a.a.createElement("div",null,"Loading....")})),Ot=n(119),wt=n.n(Ot),jt=n(225),kt=n(244),Pt=n(224),St=n(226);function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(){var e=Object(Ge.a)(["\nmutation($title: String, $lyric: String, $id: String) {\n  updateLyric(title: $title, lyric: $lyric, id: $id) {\n    id\n    title\n    lyric\n  }\n}\n"]);return xt=function(){return e},e}function Dt(){var e=Object(Ge.a)(["\nmutation($title: String, $lyric: String) {\n  createLyric(title: $title, lyric: $lyric) {\n    id\n    title\n    lyric\n  }\n}\n"]);return Dt=function(){return e},e}var Tt=Object(Ee.b)(Dt()),At=Object(Ee.b)(xt()),Nt=Object(g.a)(Object(c.b)("lyrics"),c.c)((function(e){var t=e.lyrics,n=e.client;return a.a.createElement("div",null,a.a.createElement(B.a,{onClick:function(){return t.resetLyric()}},a.a.createElement(wt.a,null)),a.a.createElement("div",null,a.a.createElement(jt.a,{fullWidth:!0},a.a.createElement(kt.a,{htmlFor:"my-input"},"Title"),a.a.createElement(Pt.a,{fullWidth:!0,onChange:function(e){return t.setTitle(e.target.value)},id:"my-input","aria-describedby":"title",value:t.lyric.title}),a.a.createElement(St.a,{id:"title"},"Title of your lyric."))),a.a.createElement("div",null,a.a.createElement(jt.a,{fullWidth:!0},a.a.createElement(kt.a,{htmlFor:"lyric-input"},"Lyric"),a.a.createElement(Pt.a,{rows:5,fullWidth:!0,onChange:function(e){return t.setLyricText(e.target.value)},id:"lyric-input",multiline:!0,"aria-describedby":"lyric",value:t.lyric.lyric}),a.a.createElement(St.a,{id:"lyric"},"Write your lyric here"))),a.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){return function(){var e=t.lyric.id?At:Tt;n.mutate({mutation:e,variables:Lt({},t.lyric),context:{headers:{authorization:"Bearer ".concat(localStorage.token)}}}).then((function(e){var n=e.data;t.lyric.id?t.updateLyric(n.updateLyric):t.addLyric(n.createLyric),t.resetLyric()}))}()}},"Save lyric"))})),_t=Object(g.a)(Object(c.b)("user"),Object(c.b)("lyrics"),c.c)((function(e){var t=e.user,n=e.lyrics;return Object(r.useEffect)((function(){"undefined"!==typeof window&&(t.init(),window.location.hash&&t.setToken(window.location.hash.replace("#","")))}),[]),n.loading?a.a.createElement("div",null,"Loading...."):(console.log(n.lyric),a.a.createElement(q.a,null,t.logged?a.a.createElement("div",null,"Welcome ",t.info.givenName,"!"):a.a.createElement("div",null,"You must make login to see lyrics"),t.logged&&a.a.createElement(be.a,null,(function(e){return a.a.createElement(a.a.Fragment,null,n.lyric?a.a.createElement(Nt,{client:e}):a.a.createElement(Et,{client:e}))}))))})),Bt=(n(173),n(236)),It=n(237),Mt=n(238),Wt=n(37),$t=n(239),zt=n(240),Rt=n(123),Ft=Object(Bt.a)((function(e){return{root:{flexGrow:1},avatar:{margin:10},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),Yt=Object(g.a)(Object(c.b)("user"),c.c)((function(e){var t=e.user,n=Ft(),i=Object(r.useState)(null),o=Object(l.a)(i,2),c=o[0],u=o[1],s=Boolean(c);return a.a.createElement("div",{className:n.root},a.a.createElement(It.a,{position:"static"},a.a.createElement(Mt.a,null,a.a.createElement(Wt.a,{variant:"h6",className:n.title},"Mustard Player"),t.logged?a.a.createElement("div",null,a.a.createElement(B.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit"},a.a.createElement($t.a,{alt:"Remy Sharp",src:t.info.picture,className:n.avatar})),a.a.createElement(Rt.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){u(null)}},a.a.createElement(zt.a,{onClick:function(){return t.logout()}},"Logout"))):a.a.createElement(k.a,{onClick:function(){"undefined"!==typeof window&&(window.location.href="http://api.mustardplayer.io/auth")},color:"inherit"},"Login"))))})),qt=n(122),Jt=n(241),Ut=n(120),Gt=n.n(Ut),Zt=n(121),Ht=n.n(Zt),Kt=new Ee.a({uri:"https://mustard-graphql.herokuapp.com/graphql"}),Vt=Object(qt.a)({palette:{primary:Gt.a,secondary:Ht.a},status:{danger:"orange"}});window.store=Ue;var Qt=function(){return a.a.createElement(be.b,{client:Kt},a.a.createElement(Jt.a,{theme:Vt},a.a.createElement(c.a,Ue,a.a.createElement("div",null,a.a.createElement(Yt,null),a.a.createElement(tt.a,null,a.a.createElement(it,null),a.a.createElement(ge,null),a.a.createElement(u.a,{container:!0},a.a.createElement(u.a,{item:!0,xs:12,md:3},a.a.createElement(et,null)),a.a.createElement(u.a,{item:!0,xs:12,md:9},a.a.createElement(_t,null))),a.a.createElement(je,null)),"Version ",nt.a))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(Qt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[144,1,2]]]);
//# sourceMappingURL=main.e308883b.chunk.js.map